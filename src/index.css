@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
    width: 100%;
    overflow-x: hidden; /* Prevents stray horizontal scrollbars in PWA mode */
}

html,
body,
#root {
    height: 100%;
}

#root {
    min-height: 100dvh; /* Keeps the app pinned to the dynamic viewport height for PWAs */
}

body {
    background: linear-gradient(to bottom right, #f0fdf4, #fafaf9);
    color: #1c1917;
    min-height: 100vh;

    /* Prevents the document from competing with in-app scrolling */
    overflow-y: hidden;

    /* PREVENTS ZOOMING BEHAVIOR */
    touch-action: manipulation; /* Disables double-tap to zoom */
    -webkit-text-size-adjust: 100%; /* Prevents font scaling in landscape */
    overscroll-behavior-y: none; /* Prevents "rubber banding" bounce effect */
}

/* Optional: Makes it feel more like an app by disabling text selection (except in inputs) */
/*
body {
    -webkit-user-select: none;
    user-select: none;
}
input, textarea {
    -webkit-user-select: text;
    user-select: text;
}
*/

/* PWA-safe padding helpers to keep layouts edge-aligned while honoring device insets */
.app-shell {
    padding-left: calc(env(safe-area-inset-left, 0px) + 12px);
    padding-right: calc(env(safe-area-inset-right, 0px) + 12px);
}

.scroll-panels {
    padding-right: calc(env(safe-area-inset-right, 0px) + 10px);
    padding-left: calc(env(safe-area-inset-left, 0px) + 10px);
}

.pwa-scroll-area {
    -webkit-overflow-scrolling: touch; /* Restores native iOS momentum scrolling */
    padding-bottom: env(safe-area-inset-bottom, 0px); /* Keeps gestures clear of the home indicator */
}

@media (min-width: 640px) {
    .scroll-panels {
        padding-left: 8px;
        padding-right: 12px;
    }
}

@media (display-mode: standalone) {
    .app-shell {
        padding-left: calc(env(safe-area-inset-left, 0px) + 8px);
        padding-right: calc(env(safe-area-inset-right, 0px) + 8px);
    }

    .scroll-panels {
        padding-right: calc(env(safe-area-inset-right, 0px) + 10px);
        padding-left: calc(env(safe-area-inset-left, 0px) + 10px);
    }
}

@layer components {
    .card-panel {
        @apply bg-white/90 border border-stone-200 shadow-[0_4px_6px_-1px_rgba(16,185,129,0.05)] backdrop-blur-sm transition-all duration-300;
    }
    .card-hover:hover {
        @apply -translate-y-1 shadow-[0_10px_15px_-3px_rgba(16,185,129,0.1)] border-emerald-300 bg-white;
    }
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #a7f3d0; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: #34d399; }